(this["webpackJsonptravel-app"]=this["webpackJsonptravel-app"]||[]).push([[0],[,,,,,,,,,,,,function(t,e,n){t.exports={slider:"Slider_slider__2rYbJ",left:"Slider_left__1vL5u",right:"Slider_right__2xfSp",disabled:"Slider_disabled__3BUfD",cardList:"Slider_cardList__k1OHB",card:"Slider_card__1w-HO","bla-bla":"Slider_bla-bla__1aosD",title:"Slider_title__iQwdh",img:"Slider_img__2fnXM",description:"Slider_description__YQrYJ",rating_container:"Slider_rating_container__134d3",cut:"Slider_cut__1PE2f",cut_title:"Slider_cut_title__3bQ8V",fullscreen:"Slider_fullscreen__3JUeo"}},,,,,,,,,,function(t,e,n){t.exports={header:"Header_header__yfRMG",text:"Header_text__2omjz",input:"Header_input__19dIc",select:"Header_select__26v9o",authButton:"Header_authButton__31uWL",buttons:"Header_buttons__L1wFt"}},,function(t,e,n){t.exports={countryInfo_container:"CountryInfoBlock_countryInfo_container__3-Sd7",countryInfo_image:"CountryInfoBlock_countryInfo_image__1Xz8F",countryInfo_content:"CountryInfoBlock_countryInfo_content__1Eghk",countryInfo_description:"CountryInfoBlock_countryInfo_description__3KmVU"}},function(t,e,n){t.exports={footer:"Footer_footer__fIHO2",text:"Footer_text__36hFQ",iconGit:"Footer_iconGit__25jcv"}},,function(t,e,n){t.exports={box:"Rating_box__3vqim",starsTransparent:"Rating_starsTransparent__1X5uR",starsFill:"Rating_starsFill__1LU6q"}},,,,function(t,e,n){t.exports={authButton:"style_authButton__1JkmZ"}},,,function(t,e,n){t.exports={countryCard:"style_countryCard__1QPfE",countryCard_image:"style_countryCard_image__xUL5d"}},,,function(t,e,n){t.exports={countriesList:"style_countriesList__1Hl3g"}},function(t,e,n){t.exports={countryPage_container:"CountryPage_countryPage_container__3_MBv"}},function(t,e,n){t.exports={countryWidget_container:"CountryWidget_countryWidget_container__395mU",weather_icon:"CountryWidget_weather_icon__2dUa9"}},function(t,e,n){},function(t,e,n){t.exports={App:"MapComponent_App__1DR3_"}},function(t,e,n){t.exports={authPage:"AuthPage_authPage__2PuV4"}},,,,,,,function(t,e,n){},,,,,,,,,,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){},,,,function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(20),i=n.n(c),s=(n(49),n(17)),o=n(3),u=n(4),l=n(7),h=n(6),d=n(5),g=n.n(d),p=n(11),j=n(18),f=n(8),b=n(22),v=n.n(b),m=n(31),O=n.n(m),_=n(16),x=n(1),y=function(t){var e=Object(_.b)().loginWithRedirect;return Object(x.jsx)("button",{className:O.a.authButton,onClick:function(){return e()},children:"ru"===t.language?"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f":"en"===t.language?"Log in":"Connexion"})},k=function(t){var e=Object(_.b)().logout;return Object(x.jsx)("button",{className:O.a.authButton,onClick:function(){return e({returnTo:"https://travel-app-43.netlify.app/home"})},children:"ru"===t.language?"\u0412\u044b\u0439\u0442\u0438":"en"===t.language?"Log out":"Se d\xe9connecter"})},w=function(t){var e=Object(_.b)(),n=e.user,a=e.isAuthenticated;return n&&localStorage.setItem("travelApp43_UserEmail",n.email),Object(x.jsx)(x.Fragment,{children:a?Object(x.jsx)(k,{language:t.language}):Object(x.jsx)(y,{language:t.language})})},S=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;return Object(o.a)(this,n),(t=e.call(this)).languages=[{title:"English",code:"en"},{title:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",code:"ru"},{title:"Fran\xe7ais",code:"fr"}],t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.value=this.props.value,"/home"===this.props.location.pathname.substring(0,5)&&this.inputRef.focus()}},{key:"render",value:function(){var t=this,e=this.props,n=e.switchLanguage,a=e.func,r=this.props.language,c=void 0===r?"en":r,i=this.props.location;return Object(x.jsxs)("header",{className:v.a.header,children:[Object(x.jsx)(j.b,{to:"/home",children:Object(x.jsx)("p",{className:v.a.text,children:"Travel-APP"})}),"/home"===i.pathname.substring(0,5)?Object(x.jsx)("input",{className:v.a.input,onChange:a.search,type:"text",placeholder:"ru"===c?"\u041e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0438 \u043c\u0435\u0447\u0442\u0443! \u041d\u0430\u0447\u043d\u0438 \u0441 \u043f\u043e\u0438\u0441\u043a\u0430!":"en"===c?"Make your dream come true! Start by searching!":"R\xe9alise tes r\xeaves! Commencez par chercher!",ref:function(e){return t.inputRef=e}}):null,Object(x.jsxs)("div",{className:v.a.buttons,children:[Object(x.jsx)(w,{language:c}),Object(x.jsx)("select",{className:v.a.select,onChange:n,value:c,children:this.languages.map((function(t,e){return Object(x.jsx)("option",{value:t.code,children:t.title},e)}))})]})]})}}]),n}(r.a.PureComponent),C=Object(f.h)(S),I=n(34),L=n.n(I),R=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var t=this.props,e=t.imageURL,n=t.name,a=t.capital;return Object(x.jsxs)("div",{className:L.a.countryCard,children:[Object(x.jsx)("div",{className:L.a.countryCard_image,style:{backgroundImage:"url(".concat(e,")")}}),Object(x.jsx)("h2",{children:n}),Object(x.jsx)("h3",{children:a})]})}}]),n}(r.a.PureComponent),P=n(37),A=n.n(P),E=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var t=this.props.children;return Object(x.jsx)("div",{className:A.a.countriesList,children:t})}}]),n}(r.a.PureComponent),D=function(){function t(){Object(o.a)(this,t),this.API_SERVER="https://travelapp-team43.herokuapp.com"}return Object(u.a)(t,[{key:"getCountries",value:function(){var t=Object(p.a)(g.a.mark((function t(){var e,n=arguments;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:"en",t.abrupt("return",fetch(this.API_SERVER+"/countries?lang="+e,{method:"GET",headers:{"Content-Type":"application/json","user-agent":"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.141 Safari/537.36",Referer:this.API_SERVER}}).then((function(t){return t.json()})).catch((function(t){return Error(t)})));case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getCountry",value:function(){var t=Object(p.a)(g.a.mark((function t(e){var n,a=arguments;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:"en",t.abrupt("return",fetch(this.API_SERVER+"/countries/"+e+"?lang="+n,{method:"GET",headers:{"Content-Type":"application/json","user-agent":"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.141 Safari/537.36",Referer:this.API_SERVER}}).then((function(t){return t.json()})).catch((function(t){return Error(t)})));case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"setRating",value:function(){var t=Object(p.a)(g.a.mark((function t(e,n,a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch(this.API_SERVER+"/attractions/like",{method:"POST",headers:{"Content-Type":"application/json","user-agent":"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.141 Safari/537.36",Referer:this.API_SERVER},body:JSON.stringify({changedAttrId:e,changedAttrRating:n,userEmail:a})}).then((function(t){return t.json()})).catch((function(t){return Error(t)})));case 1:case"end":return t.stop()}}),t,this)})));return function(e,n,a){return t.apply(this,arguments)}}()}]),t}(),F=function(t,e){return t.map((function(t){return t.hidden=!0,(t.name.toLowerCase().includes(e.toLowerCase())||t.capital.toLowerCase().includes(e.toLowerCase()))&&(t.hidden=!1),t}))},N=n(25),U=n.n(N),M=n.p+"static/media/git.fb8c5597.jpg",T=n.p+"static/media/logo.bc18f908.png",B=function(){return Object(x.jsxs)("footer",{className:U.a.footer,children:[Object(x.jsx)("p",{className:U.a.text,children:"React Course \xb7 RS School 2021Q1 \xb7 Task 2"}),Object(x.jsxs)("div",{className:U.a.iconGit,children:[Object(x.jsxs)("a",{href:"https://github.com/nikolai-minkevich",target:"_blank",rel:"noreferrer",children:[Object(x.jsx)("img",{src:M,alt:"git hub"}),Object(x.jsx)("p",{children:"Nikolai"})]}),Object(x.jsxs)("a",{href:"https://github.com/VaseninaNastya",target:"_blank",rel:"noreferrer",children:[Object(x.jsx)("img",{src:M,alt:"git hub"}),Object(x.jsx)("p",{children:"Nastya"})]}),Object(x.jsxs)("a",{href:"https://github.com/AV-63-dev",target:"_blank",rel:"noreferrer",children:[Object(x.jsx)("img",{src:M,alt:"git hub"}),Object(x.jsx)("p",{children:"Anatoliy"})]})]}),Object(x.jsx)("a",{href:"https://community-z.com/events/react-rsschool-2021/",target:"_blank",rel:"noreferrer",children:Object(x.jsx)("img",{src:T,alt:"rs school"})})]})},V=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;return Object(o.a)(this,n),(t=e.call(this)).state={countries:[],language:"en"},t.search=function(e){var n=t.state.countries.concat(),a=F(n,e.target.value);t.setState({countries:a})},t.loadData=Object(p.a)(g.a.mark((function t(){var e,n,a=arguments;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:"en",t.next=3,this.travelAppAPI.getCountries(e);case 3:n=t.sent,this.setState({countries:n});case 5:case"end":return t.stop()}}),t,this)}))),t.travelAppAPI=new D,t}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(t,e){e.language!==this.state.language&&this.loadData(this.state.language)}},{key:"componentDidMount",value:function(){var t=this.props.language;this.loadData(t),this.setState({language:t})}},{key:"render",value:function(){var t=this.state,e=t.countries,n=t.language,a=this.props.switchLanguage;return Object(x.jsxs)(r.a.Fragment,{children:[Object(x.jsx)(C,{switchLanguage:a,language:n,func:{search:this.search,installerLang:this.installerLang}}),Object(x.jsxs)(E,{children:[0===e.length?"ru"===n?"\u0414\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u044e\u0442\u0441\u044f":"en"===n?"Data is loading":"Les donn\xe9es sont en cours de chargement":null,e.map((function(t,e){return!0!==t.hidden?Object(x.jsx)(j.b,{to:"/country/"+t.codeISO2,children:Object(x.jsx)(R,{imageURL:t.coverURL,name:t.name,capital:t.capital,codeISO2:t.codeISO2})},e):null}))]}),Object(x.jsx)(B,{})]})}}],[{key:"getDerivedStateFromProps",value:function(t,e){return t.language!==e.language?{language:t.language}:null}}]),n}(r.a.Component),H=n(24),W=n.n(H),z=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var t=this.props.countryData;return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:W.a.countryInfo_container,children:[Object(x.jsx)("div",{className:W.a.countryInfo_image,style:{backgroundImage:"url(".concat(t.coverURL,")")}}),Object(x.jsxs)("div",{className:W.a.countryInfo_content,children:[Object(x.jsx)("h2",{children:t.name}),Object(x.jsx)("h3",{children:t.capital}),Object(x.jsx)("div",{className:W.a.countryInfo_description,children:t.description})]})]})})}}]),n}(r.a.PureComponent),G=n(38),K=n.n(G),J=(n(62),function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var t=this.props.countryVideoUrl;return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("iframe",{src:t,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"Video"})})}}]),n}(r.a.PureComponent)),X=n(39),Z=n.n(X),q=function(){function t(){Object(o.a)(this,t),this.API_SERVER="https://api.openweathermap.org"}return Object(u.a)(t,[{key:"getWeather",value:function(){var t=Object(p.a)(g.a.mark((function t(e,n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch(this.API_SERVER+"/data/2.5/weather?q="+e+"&lang="+n+"&appid=5df764e0a76568cd5c6ab5a26f5ef004&units=metric",{method:"GET",headers:{"user-agent":"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.141 Safari/537.36",Referer:this.API_SERVER}}).then((function(t){return t.json()})).catch((function(t){return Error(t)})));case 1:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()}]),t}(),Q=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).state={day:"",date:"",month:"",hour:"",min:"",sec:""},t.showTime=function(){var e=t.props,n=e.timezone,a=e.language,r=new Date,c=new Date(r.toLocaleString("en",{timeZone:n})),i=c.toLocaleString(a,{month:"long"}),s=c.toLocaleString(a,{weekday:"long"}),o=c.getHours(),u=c.getDate(),l=c.getMinutes(),h=c.getSeconds();t.setState({day:s,date:u,month:i,hour:o,min:l,sec:h})},t}return Object(u.a)(n,[{key:"addZero",value:function(t){return(parseInt(t,10)<10?"0":"")+t}},{key:"componentDidMount",value:function(){this.interval=setInterval(this.showTime,1e3)}},{key:"render",value:function(){var t=this.state,e=t.day,n=t.date,a=t.month,r=t.hour,c=t.min,i=t.sec;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{children:e}),Object(x.jsxs)("span",{children:[n," ",a]}),Object(x.jsxs)("span",{children:[r,Object(x.jsx)("span",{children:":"}),this.addZero(c),Object(x.jsx)("span",{children:":"}),this.addZero(i)]})]})}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}}]),n}(r.a.PureComponent),Y=n(40),$=n.n(Y),tt=function(){function t(){Object(o.a)(this,t),this.API_SERVER="https://v6.exchangerate-api.com"}return Object(u.a)(t,[{key:"getCurrency",value:function(){var t=Object(p.a)(g.a.mark((function t(e){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch(this.API_SERVER+"/v6/49a5bf66bd8662e965a6a21b/latest/"+e,{method:"GET",headers:{"user-agent":"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.141 Safari/537.36",Referer:this.API_SERVER}}).then((function(t){return t.json()})).catch((function(t){return Error(t)})));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}(),et=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;return Object(o.a)(this,n),(t=e.call(this)).state={currencyData:""},t.loadData=Object(p.a)(g.a.mark((function t(){var e,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.props.currency,t.next=3,this.currencyAPI.getCurrency(e);case 3:n=t.sent,this.setState({currencyData:n.conversion_rates});case 5:case"end":return t.stop()}}),t,this)}))),t.currencyAPI=new tt,t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var t=this.state.currencyData;return Object(x.jsx)("div",{className:$.a.currency_container,children:t.EUR&&t.USD&&t.RUB?Object(x.jsxs)("span",{children:["\u20ac ",t.EUR.toFixed(2),"; $ ",t.USD.toFixed(2),"; \u20bd ",t.RUB.toFixed(2)]}):null})}}]),n}(r.a.PureComponent),nt=(n(63),function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;return Object(o.a)(this,n),(t=e.call(this)).state={weatherData:"",lang:""},t.loadData=Object(p.a)(g.a.mark((function t(){var e,n,a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.props.countryCapital,n=this.state.language,t.next=4,this.weatherAPI.getWeather(e,n);case 4:a=t.sent,this.setState({weatherData:a});case 6:case"end":return t.stop()}}),t,this)}))),t.weatherAPI=new q,t}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(t,e){e.language!==this.state.language&&this.loadData()}},{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var t,e,n=this.props,a=n.language,r=n.timezone,c=n.currency,i=this.state.weatherData,s="";return i&&(t="".concat(Math.floor(i.main.temp),"\xb0C"),e=i.weather[0].description,s="owf-".concat(i.weather[0].id," owf")),Object(x.jsxs)("div",{className:Z.a.countryWidget_container,children:[Object(x.jsxs)("span",{children:[" ",t]}),Object(x.jsxs)("span",{children:[" ",e]}),Object(x.jsx)("i",{className:s}),Object(x.jsx)(Q,{language:a,timezone:r}),Object(x.jsx)(et,{currency:c})]})}}],[{key:"getDerivedStateFromProps",value:function(t,e){return t.language!==e.language?{language:t.language}:null}}]),n}(r.a.PureComponent)),at=n(26),rt=n(41),ct=n.n(rt);var it=function(t){var e=r.a.createRef(null);return Object(x.jsx)("div",{className:ct.a.App,children:Object(x.jsx)(at.c,{children:Object(x.jsx)(at.a,{instanceRef:e,state:{center:t.capitalCoordinates,zoom:4},onLoad:function(n){return function(n){setTimeout((function(){if(e&&e.current){var a=new n.ObjectManager;n.borders.load("001",{lang:t.language,quality:2}).then((function(n){var r=n.features.reduce((function(t,e){var n=e.properties.iso3166;return e.id=n,e.options={fillOpacity:.6,strokeColor:"#FFF",strokeOpacity:.5},t[n]=e,t}),{})[t.codeISO2.toUpperCase()];r.options.fillColor="#FF0000",n.features=[],n.features.push(r),a.add(n),e.current.geoObjects.add(a)}))}}),1e3)}(n)},modules:["borders","ObjectManager"],style:{width:"100%",height:"100%"},children:Object(x.jsx)(at.b,{geometry:t.capitalCoordinates})})})})},st=n(72),ot=n(71),ut=n(23),lt=n.n(ut),ht=n(12),dt=n.n(ht),gt=(n(64),function(t){var e=Object(_.b)().isAuthenticated;return Object(x.jsx)(x.Fragment,{children:e?Object(x.jsxs)("select",{onChange:t.handlerChangeRating,"data-id":t.id,children:[Object(x.jsx)("option",{children:" 1 "}),Object(x.jsx)("option",{children:" 2 "}),Object(x.jsx)("option",{children:" 3 "}),Object(x.jsx)("option",{children:" 4 "}),Object(x.jsx)("option",{children:" 5 "})]}):null})}),pt=n(43),jt=n(27),ft=n.n(jt),bt=function(t){var e=t.rating,n=t.cursor,a=t.voters,r={width:"".concat(21.8*e,"px")};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:ft.a.box,style:n,"data-tip":a,children:[Object(x.jsx)("div",{className:ft.a.starsTransparent}),Object(x.jsx)("p",{children:e}),Object(x.jsx)("div",{className:ft.a.starsFill,style:r})]}),Object(x.jsx)(pt.a,{place:"top",type:"dark",effect:"solid"})]})},vt=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).activeBtn=function(t,e){return{left:0!==t[0],right:t[t.length-1]!==e.length-1}},a.initBtn=function(){var t=a.state.attractions,e=a.state.mask,n=a.activeBtn(e,t),r=n.left,c=n.right;a.setState({left:r,right:c})},a.handlerCardList=function(t){var e=t.target.dataset.vektor,n=a.state.attractions,r=a.state.mask.concat();if("left"===e&&0!==r[0])for(var c=0;c<r.length;c++)r[c]=r[c]-1;if("right"===e&&r[r.length-1]!==n.length-1)for(var i=0;i<r.length;i++)r[i]=r[i]+1;var s=a.activeBtn(r,n),o=s.left,u=s.right;a.setState({mask:r,left:o,right:u})},a.handlerChangeRating=function(){var t=Object(p.a)(g.a.mark((function t(e){var n,r,c,i,s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.target.dataset.id,r=e.target.value,!localStorage.getItem("travelApp43_UserEmail")){t.next=6;break}c=localStorage.getItem("travelApp43_UserEmail"),t.next=7;break;case 6:return t.abrupt("return");case 7:return t.next=9,a.travelAppAPI.setRating(n,r,c);case 9:(i=t.sent)&&(s=a.state.attractions.map((function(t){return t._id===i.id&&(t.votes=i.votes),t})),a.setState({attraction:s}));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a.startFullscreen=function(t){if("SELECT"!==t.target.tagName){var e=t.target.closest(".data-index").dataset.index,n=a.state.attractions,r=[Number(e)],c=a.activeBtn(r,n),i=c.left,s=c.right;document.getElementById("slider__64bit").webkitRequestFullScreen(),a.setState({mask:r,left:i,right:s,fullscreen:!0})}},a.stopFullscreen=function(){if(!document.webkitFullscreenElement){var t=a.state.attractions,e=a.state.mask.concat(),n=e[0];if(0===n)for(var r=0;r<a.state.maskLength;r++)e[r]=r;else if(n===t.length-1)for(var c=0;c<a.state.maskLength;c++)e[c]=c+t.length-a.state.maskLength;else for(var i=0;i<a.state.maskLength;i++)e[i]=i+n-1;var s=a.activeBtn(e,t),o=s.left,u=s.right;a.setState({mask:e,left:o,right:u,fullscreen:!1})}},a.travelAppAPI=new D,a.state={attractions:t.attractions,mask:[0,1,2],maskLength:3,left:!1,right:!1,fullscreen:!1},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.initBtn(),document.addEventListener("webkitfullscreenchange",this.stopFullscreen)}},{key:"calculateRating",value:function(t){var e=[],n=0;t.votes.map((function(t){return void 0!==t.user&&void 0!==t.rate&&(e.push(t.user),n+=parseFloat(t.rate)),t})),t.rating=n,t.voters=e}},{key:"render",value:function(){var t=this,e=this.state,n=e.attractions,a=e.mask,r=e.left,c=e.right,i=e.fullscreen;return Object(x.jsxs)("section",{className:lt()(dt.a.slider,i?dt.a.fullscreen:null),id:"slider__64bit",children:[Object(x.jsx)("div",{className:lt()(dt.a.left,r?null:dt.a.disabled),onClick:this.handlerCardList,"data-vektor":"left",children:"\u25c4"}),Object(x.jsx)(st.a,{component:"div",className:dt.a.cardList,children:n.map((function(e,n){return a.includes(n)?(e.votes.length>0&&t.calculateRating(e),Object(x.jsx)(ot.a,{classNames:"anime",timeout:250,children:Object(x.jsxs)("div",{className:"".concat(dt.a.card," data-index"),onClick:t.startFullscreen,"data-index":n,children:[Object(x.jsx)("p",{className:lt()(dt.a.title,dt.a.cut_title),children:e.title}),Object(x.jsx)("div",{className:dt.a.img,style:{backgroundImage:"url(".concat(e.imageURL,")")}}),Object(x.jsxs)("div",{className:dt.a.rating_container,children:[i?Object(x.jsx)(bt,{rating:e.rating,voters:e.voters,onClick:function(){},cursor:{cursor:"pointer"}}):Object(x.jsx)(bt,{rating:e.rating,voters:e.voters}),Object(x.jsx)(gt,{handlerChangeRating:t.handlerChangeRating,id:e._id})]}),Object(x.jsx)("p",{className:lt()(dt.a.description,dt.a.cut),children:e.description})]})},n)):null}))}),Object(x.jsx)("div",{className:lt()(dt.a.right,c?null:dt.a.disabled),onClick:this.handlerCardList,"data-vektor":"right",children:"\u25ba"})]})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("webkitfullscreenchange",this.stopFullscreen)}}],[{key:"getDerivedStateFromProps",value:function(t,e){return t.attractions!==e.attractions?{attractions:t.attractions}:null}}]),n}(a.Component),mt=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;return Object(o.a)(this,n),(t=e.call(this)).state={countryData:"",language:"en"},t.loadData=function(){var t=Object(p.a)(g.a.mark((function t(e){var n,a,r=arguments;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"en",t.next=3,this.travelAppAPI.getCountry(e,n);case 3:a=t.sent,this.setState({countryData:a});case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),t.travelAppAPI=new D,t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this.props.match.params.codeISO2,e=this.props.language;this.loadData(t,e),window.scrollTo(0,0)}},{key:"componentDidUpdate",value:function(t,e){var n=this.props.match.params.codeISO2;e.language!==this.state.language&&this.loadData(n,this.state.language)}},{key:"render",value:function(){var t=this.state,e=t.countryData,n=t.language,a=e.videoURL,c=e.capital,i=e.timeZone,s=e.capitalCoordinates,o=e.codeISO2,u=e.currency,l=e.attractions,h=this.props.switchLanguage;return Object(x.jsxs)(r.a.Fragment,{children:[Object(x.jsx)(C,{switchLanguage:h,language:n}),0===e.length?"Data is loading...":null,Object(x.jsxs)("div",{className:K.a.countryPage_container,children:[e?Object(x.jsx)(z,{countryData:e}):null,c&&i&&u?Object(x.jsx)(nt,{language:n,timezone:i,countryCapital:c,currency:u}):null,a?Object(x.jsx)(J,{countryVideoUrl:a}):null,s?Object(x.jsx)(it,{capitalCoordinates:[s.lat,s.lon],language:n,codeISO2:o}):null,l?Object(x.jsx)(vt,{attractions:l}):null]}),Object(x.jsx)(B,{})]})}}],[{key:"getDerivedStateFromProps",value:function(t,e){return t.language!==e.language?{language:t.language}:null}}]),n}(r.a.Component),Ot=Object(f.h)(mt),_t="travelApp43_language",xt=["en","ru","fr"],yt=xt[0],kt=function(){function t(){Object(o.a)(this,t),this.load()}return Object(u.a)(t,[{key:"load",value:function(){return this.language=localStorage.getItem(_t),this.language||(this.language=yt,this.save()),this.get()}},{key:"save",value:function(){return localStorage.setItem(_t,this.language),this.get()}},{key:"set",value:function(t){return xt.includes(t)?(this.language=t,this.save(),this.get()):this.get()}},{key:"get",value:function(){return this.language}}]),t}(),wt=function(t){var e=t.children,n=Object(f.g)();return Object(x.jsx)(_.a,{domain:"dev-hk6-pszx.us.auth0.com",clientId:"hdAeHAwcD8JfZw2PZkG0JtI4gm0pKqUa",redirectUri:"https://travel-app-43.netlify.app/authPage",onRedirectCallback:function(t){n.push((null===t||void 0===t?void 0:t.returnTo)||"/home")},history:n,useRefreshTokens:!0,children:e})},St=n(42),Ct=n.n(St),It=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this.props.handleAuth;t&&t()}},{key:"render",value:function(){return Object(x.jsx)("div",{className:Ct.a.authPage})}}]),n}(r.a.Component),Lt=Object(f.h)(It),Rt=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;return Object(o.a)(this,n),(t=e.call(this)).switchLanguage=function(e){t.languageSwitcher.set(e.target.value),t.setState({language:t.languageSwitcher.get()})},t.languageSwitcher=new kt,t.state={language:t.languageSwitcher.get()},t}return Object(u.a)(n,[{key:"render",value:function(){var t=this,e=this.props.history,n=this.state.language;return Object(x.jsx)(wt,{children:Object(x.jsxs)(f.d,{children:[Object(x.jsx)(f.b,{history:e,path:"/home",render:function(e){return Object(x.jsx)(V,Object(s.a)(Object(s.a)({},e),{},{language:n,switchLanguage:t.switchLanguage}))}}),Object(x.jsx)(f.b,{history:e,path:"/authPage",render:function(e){return Object(x.jsx)(Lt,Object(s.a)(Object(s.a)({},e),{},{language:n,switchLanguage:t.switchLanguage}))}}),Object(x.jsx)(f.b,{history:e,path:"/home",render:function(e){return Object(x.jsx)(V,Object(s.a)(Object(s.a)({},e),{},{language:n,switchLanguage:t.switchLanguage}))}}),Object(x.jsx)(f.b,{history:e,path:"/country/:codeISO2",render:function(e){return Object(x.jsx)(Ot,Object(s.a)(Object(s.a)({},e),{},{language:n,switchLanguage:t.switchLanguage}))}}),Object(x.jsx)(f.a,{from:"/",to:"/home"})]})})}}]),n}(r.a.PureComponent),Pt=Object(f.h)(Rt),At=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,73)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),a(t),r(t),c(t),i(t)}))};n(65).config(),i.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(j.a,{children:Object(x.jsx)(Pt,{})})}),document.getElementById("root")),At()}],[[68,1,2]]]);
//# sourceMappingURL=main.2a9d350d.chunk.js.map