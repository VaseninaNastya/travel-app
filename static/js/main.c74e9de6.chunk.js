(this["webpackJsonptravel-app"]=this["webpackJsonptravel-app"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,n){e.exports={header:"Header_header__yfRMG",text:"Header_text__2omjz",input:"Header_input__19dIc",select:"Header_select__26v9o"}},function(e,t,n){e.exports={countryInfo_container:"style_countryInfo_container__3zhV-",countryInfo_image:"style_countryInfo_image__3TQgv",countryInfo_content:"style_countryInfo_content__2QFcS"}},,function(e,t,n){e.exports={footer:"Footer_footer__fIHO2",text:"Footer_text__36hFQ",iconGit:"Footer_iconGit__25jcv"}},function(e,t,n){e.exports={countryCard:"style_countryCard__2l6_A",countryCard_image:"style_countryCard_image__2LvgN"}},,,,,function(e,t,n){e.exports={countryCard:"style_countryCard__1QPfE",countryCard_image:"style_countryCard_image__xUL5d"}},,,,function(e,t,n){e.exports={countriesList:"style_countriesList__1Hl3g"}},function(e,t,n){e.exports={countryPage_container:"CountryPage_countryPage_container__3_MBv"}},function(e,t,n){e.exports={countryWidget_container:"style_countryWidget_container__170-D",weather_icon:"style_weather_icon__3SMWq"}},,,,,function(e,t,n){},,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(27),i=n.n(c),o=(n(36),n(18)),s=n(2),u=n(3),l=n(6),h=n(5),g=n(8),p=n.n(g),j=n(12),d=n(14),f=n(4),b=n(16),m=n.n(b),O=n(0),v=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).languages=[{title:"English",code:"en"},{title:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",code:"ru"},{title:"Fran\xe7ais",code:"fr"}],e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.value=this.props.value}},{key:"render",value:function(){var e=this.props,t=e.switchLanguage,n=e.func,a=this.props,r=a.language,c=void 0===r?"en":r,i=(a.searchText,this.props.location);return Object(O.jsxs)("header",{className:m.a.header,children:[Object(O.jsx)(d.b,{to:"/home",children:Object(O.jsx)("p",{className:m.a.text,children:"Travel-APP"})}),"/home"===i.pathname.substring(0,5)?Object(O.jsx)("input",{className:m.a.input,onChange:n.search,type:"text",placeholder:"\u041e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0438 \u043c\u0435\u0447\u0442\u0443! \u041d\u0430\u0447\u043d\u0438 \u0441 \u043f\u043e\u0438\u0441\u043a\u0430!"}):null,Object(O.jsx)("select",{className:m.a.select,onChange:t,value:c,children:this.languages.map((function(e,t){return Object(O.jsx)("option",{value:e.code,children:e.title},t)}))})]})}}]),n}(r.a.PureComponent),y=Object(f.g)(v),x=n(25),_=n.n(x),w=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.imageURL,n=e.name,a=e.capital;return Object(O.jsxs)("div",{className:_.a.countryCard,children:[Object(O.jsx)("div",{className:_.a.countryCard_image,style:{backgroundImage:"url(".concat(t,")")}}),Object(O.jsx)("h2",{children:n}),Object(O.jsx)("h3",{children:a})]})}}]),n}(r.a.PureComponent),k=n(29),C=n.n(k),S=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.children;return Object(O.jsx)("div",{className:C.a.countriesList,children:e})}}]),n}(r.a.PureComponent),I=function(){function e(){Object(s.a)(this,e),this.API_SERVER="https://travelapp-team43.herokuapp.com"}return Object(u.a)(e,[{key:"getCountries",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t,n=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"en",e.abrupt("return",fetch(this.API_SERVER+"/countries?lang="+t,{method:"GET",headers:{"Content-Type":"application/json","user-agent":"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.141 Safari/537.36",Referer:this.API_SERVER}}).then((function(e){return e.json()})).catch((function(e){return Error(e)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCountry",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:"en",e.abrupt("return",fetch(this.API_SERVER+"/countries/"+t+"?lang="+n,{method:"GET",headers:{"Content-Type":"application/json","user-agent":"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.141 Safari/537.36",Referer:this.API_SERVER}}).then((function(e){return e.json()})).catch((function(e){return Error(e)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),L=function(e,t){return e.map((function(e){return e.hidden=!0,(e.name.toLowerCase().includes(t.toLowerCase())||e.capital.toLowerCase().includes(t.toLowerCase()))&&(e.hidden=!1),e}))},D=n(19),P=n.n(D),A=n.p+"static/media/git.fb8c5597.jpg",R=n.p+"static/media/logo.bc18f908.png",E=function(){return Object(O.jsxs)("footer",{className:P.a.footer,children:[Object(O.jsx)("p",{className:P.a.text,children:"React Course \xb7 RS School 2021Q1 \xb7 Task 2"}),Object(O.jsxs)("div",{className:P.a.iconGit,children:[Object(O.jsxs)("a",{href:"https://github.com/nikolai-minkevich",target:"_blank",rel:"noreferrer",children:[Object(O.jsx)("img",{src:A,alt:"git hub"}),Object(O.jsx)("p",{children:"Nikolai"})]}),Object(O.jsxs)("a",{href:"https://github.com/VaseninaNastya",target:"_blank",rel:"noreferrer",children:[Object(O.jsx)("img",{src:A,alt:"git hub"}),Object(O.jsx)("p",{children:"Nastya"})]}),Object(O.jsxs)("a",{href:"https://github.com/AV-63-dev",target:"_blank",rel:"noreferrer",children:[Object(O.jsx)("img",{src:A,alt:"git hub"}),Object(O.jsx)("p",{children:"Anatoliy"})]})]}),Object(O.jsx)("a",{href:"https://community-z.com/events/react-rsschool-2021/",target:"_blank",rel:"noreferrer",children:Object(O.jsx)("img",{src:R,alt:"rs school"})})]})},N=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).state={countries:[],language:"en"},e.search=function(t){var n=e.state.countries.concat(),a=L(n,t.target.value);e.setState({countries:a})},e.loadData=Object(j.a)(p.a.mark((function e(){var t,n,a=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"en",e.next=3,this.travelAppAPI.getCountries(t);case 3:n=e.sent,this.setState({countries:n});case 5:case"end":return e.stop()}}),e,this)}))),e.travelAppAPI=new I,e}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(e,t){t.language!==this.state.language&&this.loadData(this.state.language)}},{key:"componentDidMount",value:function(){var e=this.props.language;this.loadData(e),this.setState({language:e})}},{key:"render",value:function(){var e=this.state,t=e.countries,n=e.language,a=this.props.switchLanguage;return Object(O.jsxs)(r.a.Fragment,{children:[Object(O.jsx)(y,{switchLanguage:a,language:n,func:{search:this.search,installerLang:this.installerLang}}),Object(O.jsxs)(S,{children:[0===t.length?"Data is loading...":null,t.map((function(e,t){return!0!==e.hidden?Object(O.jsx)(d.b,{to:"/country/"+e.codeISO2,children:Object(O.jsx)(w,{imageURL:e.coverURL,name:e.name,capital:e.capital,codeISO2:e.codeISO2})},t):null}))]}),Object(O.jsx)(E,{})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.language!==t.language?{language:e.language}:null}}]),n}(r.a.Component),F=n(17),T=n.n(F),M=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.countryData;return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:T.a.countryInfo_container,children:[Object(O.jsx)("div",{className:T.a.countryInfo_image,style:{backgroundImage:"url(".concat(e.coverURL,")")}}),Object(O.jsxs)("div",{className:T.a.countryInfo_content,children:[Object(O.jsx)("h2",{children:e.name}),Object(O.jsx)("h3",{children:e.capital}),Object(O.jsx)("div",{className:T.a.countryInfo_description,children:e.description})]})]})})}}]),n}(r.a.PureComponent),V=n(30),U=n.n(V),z=(n(44),function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.countryVideoUrl;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("iframe",{src:e,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"Video"})})}}]),n}(r.a.PureComponent)),G=n(31),H=n.n(G),W=function(){function e(){Object(s.a)(this,e),this.API_SERVER="https://api.openweathermap.org"}return Object(u.a)(e,[{key:"getWeather",value:function(){var e=Object(j.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(this.API_SERVER+"/data/2.5/weather?q="+t+"&lang="+n+"&appid=5df764e0a76568cd5c6ab5a26f5ef004&units=metric",{method:"GET",headers:{"user-agent":"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.141 Safari/537.36",Referer:this.API_SERVER}}).then((function(e){return e.json()})).catch((function(e){return Error(e)})));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),K=n(20),Q=n.n(K),Z=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={day:"",month:"",hour:"",min:"",sec:""},e.showTime=function(){var t=e.props,n=t.timezone,a=t.language,r=new Date,c=new Date(r.toLocaleString("en",{timeZone:n})),i=c.toLocaleString(a,{month:"long"}),o=c.toLocaleString(a,{weekday:"long"}),s=c.getHours(),u=c.getMinutes(),l=c.getSeconds();e.setState({day:o,month:i,hour:s,min:u,sec:l})},e}return Object(u.a)(n,[{key:"addZero",value:function(e){return(parseInt(e,10)<10?"0":"")+e}},{key:"componentDidMount",value:function(){setInterval(this.showTime,1e3)}},{key:"render",value:function(){var e=this.state,t=e.day,n=e.month,a=e.hour,r=e.min,c=e.sec;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("span",{className:Q.a.CountryTimer,children:t}),Object(O.jsx)("span",{className:Q.a.CountryTimer,children:n}),Object(O.jsxs)("span",{className:Q.a.CountryTimer,children:[a,Object(O.jsx)("span",{children:":"}),this.addZero(r),Object(O.jsx)("span",{children:":"}),this.addZero(c)]})]})}}]),n}(r.a.PureComponent),B=(n(45),function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).state={weatherData:"",lang:""},e.loadData=Object(j.a)(p.a.mark((function e(){var t,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.countryCapital,n=this.state.language,e.next=4,this.weatherAPI.getWeather(t,n);case 4:a=e.sent,this.setState({weatherData:a});case 6:case"end":return e.stop()}}),e,this)}))),e.weatherAPI=new W,e}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(e,t){t.language!==this.state.language&&this.loadData()}},{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var e,t,n=this.props,a=n.language,r=n.timezone,c=this.state.weatherData,i="";return c&&(e="".concat(Math.floor(c.main.temp),"\xb0C"),t=c.weather[0].description,i="owf-".concat(c.weather[0].id," owf")),Object(O.jsxs)("div",{className:H.a.countryWidget_container,children:[Object(O.jsxs)("span",{children:[" ",e]}),Object(O.jsxs)("span",{children:[" ",t]}),Object(O.jsx)("i",{className:i}),Object(O.jsx)(Z,{language:a,timezone:r})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.language!==t.language?{language:e.language}:null}}]),n}(r.a.PureComponent)),X=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).state={countryData:"",language:"en"},e.loadData=function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a,r=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"en",e.next=3,this.travelAppAPI.getCountry(t,n);case 3:a=e.sent,this.setState({countryData:a});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e.travelAppAPI=new I,e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.codeISO2,t=this.props.language;this.loadData(e,t)}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.match.params.codeISO2;t.language!==this.state.language&&this.loadData(n,this.state.language)}},{key:"render",value:function(){var e=this.state,t=e.countryData,n=e.language,a=t.videoURL,c=t.capital,i=t.timeZone,o=this.props.switchLanguage;return Object(O.jsxs)(r.a.Fragment,{children:[Object(O.jsx)(y,{switchLanguage:o,language:n}),0===t.length?"Data is loading...":null,Object(O.jsxs)("div",{className:U.a.countryPage_container,children:[t?Object(O.jsx)(M,{countryData:t}):null,c&&i?Object(O.jsx)(B,{language:n,timezone:i,countryCapital:c}):null,a?Object(O.jsx)(z,{countryVideoUrl:a}):null]}),Object(O.jsx)(E,{})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.language!==t.language?{language:e.language}:null}}]),n}(r.a.Component),q=Object(f.g)(X),J="travelApp43_language",Y=["en","ru","fr"],$=Y[0],ee=function(){function e(){Object(s.a)(this,e),this.load()}return Object(u.a)(e,[{key:"load",value:function(){return this.language=localStorage.getItem(J),this.language||(this.language=$,this.save()),this.get()}},{key:"save",value:function(){return localStorage.setItem(J,this.language),this.get()}},{key:"set",value:function(e){return Y.includes(e)?(this.language=e,this.save(),this.get()):this.get()}},{key:"get",value:function(){return this.language}}]),e}(),te=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).switchLanguage=function(t){e.languageSwitcher.set(t.target.value),e.setState({language:e.languageSwitcher.get()})},e.languageSwitcher=new ee,e.state={language:e.languageSwitcher.get()},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.props.history,n=this.state.language;return Object(O.jsx)(d.a,{children:Object(O.jsxs)(f.d,{children:[Object(O.jsx)(f.b,{history:t,path:"/home",render:function(t){return Object(O.jsx)(N,Object(o.a)(Object(o.a)({},t),{},{language:n,switchLanguage:e.switchLanguage}))}}),Object(O.jsx)(f.b,{history:t,path:"/country/:codeISO2",render:function(t){return Object(O.jsx)(q,Object(o.a)(Object(o.a)({},t),{},{language:n,switchLanguage:e.switchLanguage}))}}),Object(O.jsx)(f.a,{from:"/",to:"/home"})]})})}}]),n}(r.a.PureComponent),ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(te,{})}),document.getElementById("root")),ne()}],[[46,1,2]]]);
//# sourceMappingURL=main.c74e9de6.chunk.js.map